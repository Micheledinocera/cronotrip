import{r as d,c as p,a as o,i,v as s,l as m,P as b,o as v}from"#entry";import{u as c}from"./obyjD4lJ.js";const f={class:"container mx-auto p-4"},x={class:"mb-4"},y={class:"mb-4"},w={class:"mb-4"},V={__name:"new",setup(g){const l=b(),n=c(),t=d({titolo:"",descrizione:"",durata:1}),u=async()=>{try{const{data:a,error:e}=await n.from("itinerari").insert([{titolo:t.value.titolo,descrizione:t.value.descrizione,durata:t.value.durata}]).select().single();if(e)throw e;l.push(`/itinerario/${a.id}`)}catch(a){console.error("Errore durante il salvataggio:",a),alert("Si Ã¨ verificato un errore durante il salvataggio dell'itinerario")}};return(a,e)=>(v(),p("div",f,[e[7]||(e[7]=o("h1",{class:"text-2xl font-bold mb-4"},"Crea Nuovo Itinerario",-1)),o("form",{onSubmit:m(u,["prevent"]),class:"max-w-lg"},[o("div",x,[e[3]||(e[3]=o("label",{class:"block text-gray-700 mb-2",for:"titolo"},"Titolo",-1)),i(o("input",{type:"text",id:"titolo","onUpdate:modelValue":e[0]||(e[0]=r=>t.value.titolo=r),class:"w-full px-3 py-2 border rounded",required:""},null,512),[[s,t.value.titolo]])]),o("div",y,[e[4]||(e[4]=o("label",{class:"block text-gray-700 mb-2",for:"descrizione"},"Descrizione",-1)),i(o("textarea",{id:"descrizione","onUpdate:modelValue":e[1]||(e[1]=r=>t.value.descrizione=r),class:"w-full px-3 py-2 border rounded",rows:"4"},null,512),[[s,t.value.descrizione]])]),o("div",w,[e[5]||(e[5]=o("label",{class:"blockmb-2",for:"durata"},"Durata (giorni)",-1)),i(o("input",{type:"number",id:"durata","onUpdate:modelValue":e[2]||(e[2]=r=>t.value.durata=r),class:"w-full px-3 py-2 border rounded",min:"1",required:""},null,512),[[s,t.value.durata]])]),e[6]||(e[6]=o("button",{type:"submit",class:"px-4 py-2 rounded"}," Crea Itinerario ",-1))],32)]))}};export{V as default};
